<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë°°ì†¡ ì¡°íšŒ</title>
  <style>
    * { box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      background: #f3f4f6;
      padding: 32px;
      margin: 0;
      display: flex;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: 1440px;
      background: #ffffff;
      padding: 24px 24px 24px;
      border-radius: 24px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.15);
      display: flex;
      gap: 24px;
      min-height: 600px; /* ì „ì²´ ë ˆì´ì•„ì›ƒ ì„¸ë¡œë¥¼ íŒŒë€ ì˜ì—­ë§Œí¼ í¬ê²Œ í™•ì¥ */
    }

    /* ì™¼ìª½ í¼ ì˜ì—­ */
    .form-area {
      width: 360px;
      flex-shrink: 0;
    }

    /* ì˜¤ë¥¸ìª½ ê²°ê³¼ ì˜ì—­ */
    .result-area {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    h2 {
      margin-top: 0;
      margin-bottom: 4px;
      font-size: 22px;
    }

    .subtitle {
      margin: 0 0 16px;
      font-size: 12px;
      color: #6b7280;
    }

    label {
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
      font-size: 13px;
    }

    input {
      width: 100%;
      padding: 10px;
      margin-bottom: 8px;
      border: 1px solid #d1d5db;
      border-radius: 10px;
      font-size: 15px;
    }

    input:focus {
      outline: none;
      border-color: #4b7bec;
      box-shadow: 0 0 0 1px rgba(75, 123, 236, 0.3);
    }

    button.main-btn {
      width: 100%;
      padding: 11px;
      background: linear-gradient(135deg, #4b7bec, #6366f1);
      color: #fff;
      border: none;
      border-radius: 999px;
      font-size: 15px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 10px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      box-shadow: 0 10px 25px rgba(79, 70, 229, 0.3);
      transition: transform 0.12s ease, box-shadow 0.12s ease;
    }

    button.main-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(79, 70, 229, 0.4);
    }

    button.main-btn:active {
      transform: translateY(0);
      box-shadow: 0 8px 18px rgba(79, 70, 229, 0.25);
    }

    .error {
      color: #b91c1c;
      font-size: 12px;
      margin-top: 8px;
    }

    .carrier-row {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
      overflow-x: auto;
      padding-bottom: 2px;
    }

    .carrier-pill {
      flex: 0 0 auto;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 6px 12px;
      font-size: 11px;
      background: #f9fafb;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      color: #4b5563;
      transition: all 0.15s ease;
      white-space: nowrap;
    }

    .carrier-pill span.icon {
      font-size: 13px;
    }

    .carrier-pill.active {
      background: #4b7bec;
      color: #eff6ff;
      border-color: #4b7bec;
      box-shadow: 0 6px 16px rgba(75, 123, 236, 0.35);
    }

    .carrier-pill:hover {
      transform: translateY(-1px);
    }

    .hint-text {
      font-size: 11px;
      color: #9ca3af;
      margin: 2px 0 0;
    }

    .result-card {
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at top left, #f9fafb, #eef2ff 40%, #f3f4f6 100%);
      border-radius: 18px;
      border: 1px solid #e5e7eb;
      padding: 14px 14px 10px;
      display: flex;
      flex-direction: column;
    }

    .result-header {
      font-size: 13px;
      color: #4b5563;
      margin-bottom: 10px;
    }

    .result-header span.em {
      font-weight: 600;
    }

    /* iframe ë˜í¼: ë” í¬ê³  ì„¸ë¡œ 2ë°° ê¸¸ê²Œ */
    .frame-wrapper {
      position: relative;
      flex: 1;
      border-radius: 14px;
      overflow: hidden;
      background: #111827;
      min-height: 900px; /* ì„¸ë¡œ 2ë°° ëŠë‚Œìœ¼ë¡œ ê¸¸ê²Œ */
    }

    /* ë‚´ë¶€ í˜ì´ì§€ ì¶•ì†Œí•´ì„œ ë³´ì—¬ì£¼ê¸° (ì¤Œì•„ì›ƒ íš¨ê³¼) */
    .frame-scale {
      width: 125%;
      height: 125%;
      border: none;
      background: #111827;
      transform: scale(0.8);
      transform-origin: top left;
    }

    @media (max-width: 960px) {
      .container {
        flex-direction: column;
      }
      .form-area {
        width: 100%;
        max-width: 480px;
      }
    }

    @media (max-width: 600px) {
      body { padding: 16px; }
      .container { padding: 18px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- ì™¼ìª½: ì…ë ¥ í¼ -->
    <div class="form-area">
      <h2>ë°°ì†¡ ì¡°íšŒ</h2>
      <p class="subtitle">íƒë°°ì‚¬ì™€ ìš´ì†¡ì¥ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´, ì˜¤ë¥¸ìª½ ì˜ì—­ì—ì„œ ë°”ë¡œ ì¡°íšŒ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆì–´ìš”.</p>

      <label>íƒë°°ì‚¬ ì„ íƒ</label>
      <div class="carrier-row" id="carrierRow">
        <button class="carrier-pill active"
                data-short="CJ"
                data-full="CJëŒ€í•œí†µìš´"
                data-url="https://trace.cjlogistics.com/next/tracking.html?wblNo=">
          <span class="icon">ğŸ“¦</span>
          CJ
        </button>
        <button class="carrier-pill"
                data-short="ë¡œì  "
                data-full="ë¡œì  íƒë°°"
                data-url="https://www.ilogen.com/web/personal/trace/">
          <span class="icon">ğŸ“®</span>
          ë¡œì  
        </button>
        <button class="carrier-pill"
                data-short="í•œì§„"
                data-full="í•œì§„íƒë°°"
                data-url="https://www.hanjin.com/kor/CMS/DeliveryMgr/WaybillResult.do?mCode=MN038&schLang=KR&wblnumText2=">
          <span class="icon">ğŸšš</span>
          í•œì§„
        </button>
        <button class="carrier-pill"
                data-short="ìš°ì²´êµ­"
                data-full="ìš°ì²´êµ­íƒë°°"
                data-url="https://service.epost.go.kr/trace.RetrieveDomRigiTraceList.comm?sid1=">
          <span class="icon">ğŸ¤</span>
          ìš°ì²´êµ­
        </button>
      </div>

      <label for="tracking">ìš´ì†¡ì¥ ë²ˆí˜¸</label>
      <input type="text" id="tracking" placeholder="ìš´ì†¡ì¥ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ìˆ«ìë§Œ)" />
      <p class="hint-text">ì˜ˆ: 123456789012 (Enter í‚¤ë¡œë„ ì¡°íšŒ ê°€ëŠ¥)</p>

      <button class="main-btn" onclick="track()">
        <span>ì¡°íšŒí•˜ê¸°</span>
      </button>

      <p id="error" class="error" style="display:none;"></p>
    </div>

    <!-- ì˜¤ë¥¸ìª½: ê²°ê³¼ ì˜ì—­ -->
    <div class="result-area">
      <div class="result-card">
        <div id="resultHeader" class="result-header">
          ì•„ì§ ì¡°íšŒ ì „ì…ë‹ˆë‹¤. ìš´ì†¡ì¥ ë²ˆí˜¸ë¥¼ ì…ë ¥í•œ ë’¤ ì™¼ìª½ì˜ <span class="em">ì¡°íšŒí•˜ê¸°</span> ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.
        </div>
        <div id="frameWrapper" class="frame-wrapper">
          <iframe id="resultFrame" class="frame-scale"></iframe>
        </div>
      </div>
    </div>
  </div>

  <script>
    const carrierRow    = document.getElementById('carrierRow');
    const errorEl       = document.getElementById('error');
    const resultHeader  = document.getElementById('resultHeader');
    const resultFrame   = document.getElementById('resultFrame');
    const trackingInput = document.getElementById('tracking');

    // íƒë°°ì‚¬ ì„ íƒ
    carrierRow.addEventListener('click', (e) => {
      const btn = e.target.closest('.carrier-pill');
      if (!btn) return;
      document.querySelectorAll('.carrier-pill').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });

    function validateTracking(num) {
      const onlyDigits = num.replace(/\s+/g, '');
      if (!onlyDigits) {
        return 'ìš´ì†¡ì¥ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      }
      if (!/^\d{8,15}$/.test(onlyDigits)) {
        return 'ìš´ì†¡ì¥ ë²ˆí˜¸ëŠ” ìˆ«ì 8~15ìë¦¬ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      }
      return '';
    }

    function getSelectedCarrier() {
      return document.querySelector('.carrier-pill.active');
    }

    function track() {
      errorEl.style.display = 'none';

      const raw = trackingInput.value.trim();
      const errMsg = validateTracking(raw);
      if (errMsg) {
        errorEl.textContent = errMsg;
        errorEl.style.display = 'block';
        resultHeader.textContent = 'ì…ë ¥ê°’ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.';
        resultFrame.src = '';
        return;
      }

      const onlyDigits = raw.replace(/\s+/g, '');
      const carrierBtn = getSelectedCarrier();
      if (!carrierBtn) {
        errorEl.textContent = 'íƒë°°ì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.';
        errorEl.style.display = 'block';
        resultHeader.textContent = 'íƒë°°ì‚¬ë¥¼ ì„ íƒí•œ ë’¤ ë‹¤ì‹œ ì¡°íšŒí•´ ì£¼ì„¸ìš”.';
        resultFrame.src = '';
        return;
      }

      const fullName = carrierBtn.dataset.full;
      const baseUrl  = carrierBtn.dataset.url;
      const fullUrl  = baseUrl + encodeURIComponent(onlyDigits);

      resultHeader.innerHTML = `<span class="em">${fullName}</span> ë°°ì†¡ ì¡°íšŒ í™”ë©´ì…ë‹ˆë‹¤. ì•„ë˜ì—ì„œ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.`;

      // iframeì— í•´ë‹¹ íƒë°°ì‚¬ ì¡°íšŒ í˜ì´ì§€ ë¡œë“œ
      resultFrame.src = fullUrl;
    }

    // Enter í‚¤ë¡œë„ ì¡°íšŒ
    trackingInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        track();
      }
    });
  </script>
</body>
</html>
